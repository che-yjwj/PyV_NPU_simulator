v250911
# PyV-NPU Simulator 개선 과제 칸반보드

## 컬럼: Backlog → Ready → In-Progress → Review → Done

---

## Backlog

### ARC-04 | 공유 L3 캐시 모델 구현
- **요약**: CPU와 NPU 클러스터가 공유하는 L3 캐시를 구현하여 시스템 레벨의 데이터 공유 및 메모리 병목 현상을 분석합니다.
- **수용기준**: L3 캐시 모듈 구현 및 시스템 버스에 연결. L3 캐시 유무에 따른 CPU-NPU 연동 워크로드의 성능 변화 리포트.
- **우선순위**: P2 / **사이즈**: L / **의존성**: ARC-01, ARC-02 / **태그**: 캐시, 메모리, 아키텍처, SoC

### ARC-03 | 비동기 클럭 도메인 구현
- **요약**: 시뮬레이터에 비동기 클럭 도메인 지원을 추가하여 CPU, TC, VC가 각기 다른 클럭 속도를 갖도록 설정하는 기능을 구현합니다.
- **수용기준**: 각 도메인(CPU, NPU)에 별도 클럭 파라미터 설정 기능 추가. 클럭 차이에 따른 이벤트 시간 계산 정확성 검증.
- **우선순위**: P2 / **사이즈**: M / **의존성**: — / **태그**: 클럭, 아키텍처, 성능모델

### P-01 | 컴파일러 타일링 패스 (auto-tile)
- **요약**: shape/메모리 제약 기반 자동 타일 크기 산출 + mapper에 주입
- **수용기준**: 3개 벤치(TinyLLaMA matmul/Conv/GELU)에서 타일링 적용 후 실행 성공 및 총 사이클 감소
- **우선순위**: P2 / **사이즈**: L / **의존성**: C-01, M-01 / **태그**: 컴파일러, 타일링

### CHR-01 | 예외 처리 및 로깅 개선
- **요약**: `onnx_importer.py`에 `FileNotFoundError` 등 구체적인 예외 처리를 추가하고, `print`로 남긴 로그들을 `logging` 모듈을 사용하도록 통일.
- **수용기준**: 존재하지 않는 모델 파일 로드 시 명확한 에러 메시지 출력. `logging` 포맷 통일.
- **우선순위**: P2 / **사이즈**: S / **의존성**: — / **태그**: 안정성, 로깅

### Q-01 | INT8/QAT 파이프라인 도입 (스텁)
- **요약**: 정수 스케일·제로포인트 메타를 IR에 부착하고 런타임 코스트 보정 훅 추가
- **수용기준**: INT8 경로에서 기능 테스트 통과, 보고서에 정밀도/성능 모드 플래그 표기
- **우선순위**: P2 / **사이즈**: M / **의존성**: P-01 / **태그**: 양자화

### PPA-01 | 에너지 훅 v0
- **요약**: op별 nJ/op 추정 테이블 주입 포인트와 합산 로직
- **수용기준**: 리포트에 총 에너지/ops 별 기여도 표시(근사치)
- **우선순위**: P2 / **사이즈**: M / **의존성**: C-01, M-01 / **태그**: PPA

---

## Ready

*(No tasks in this column)*

---

## In-Progress

### CI-01 | 테스트 스위트 확장
- **진행**: `config`, `reporting` 모듈 테스트 추가 완료. 전체 테스트 커버리지 **80%** 달성.
- **차주 목표**: 스케줄러(`scheduler.py`, 현재 75%) 등 핵심 모듈의 테스트 케이스를 보강하여 안정성 추가 확보.
- **우선순위**: P1 / **사이즈**: M / **태그**: 테스트

### S-01 | 스케줄러 L2 이벤트 모델 확장
- **요약**: 현재 L2에 NoC 홉 지연, 큐 대기 지연, backpressure 이벤트 추가
- **수용기준**: 이벤트 로그에 홉/큐 지연 개별 카운터 제공, Gantt에 레이어 표시
- **우선순위**: P1 / **사이즈**: L / **의존성**: M-01 / **태그**: 스케줄러, NoC

### P-02 | 연산 Fusion 패스 (elementwise chain)
- **요약**: MatMul → BiasAdd → GELU 등 연속 elementwise 체인을 VC 패킷으로 병합
- **수용기준**: fusion 전/후 NPUOp 수 감소, 사이클/메모리 트래픽 절감 리포트
- **우선순위**: P1 / **사이즈**: M / **의존성**: P-01 / **태그**: 컴파일러, 최적화

### DOC-01 | 개발자 가이드 v1
- **요약**: “ONNX→IR→Program→Schedule→Report” 풀 파이프라인 가이드 & 확장 포인트
- **수용기준**: docs/에 튜토리얼 1편 + 아키텍처 다이어그램 1개(SVG)
- **우선순위**: P1 / **사이즈**: S / **의존성**: R-01 / **태그**: 문서

### EX-01 | 벤치 스크립트
- **요약**: TinyLLaMA, MLP, ConvNet 3세트 자동 실행/리포트 수집 스크립트
- **수용기준**: 결과 디렉토리에 리포트 HTML/JSON, 비교 표 자동 생성
- **우선순위**: P1 / **사이즈**: S / **의존성**: R-01, CFG-01 / **태그**: 예제, 자동화

---

## Review

*(No tasks in this column)*

---

## Done

### ARC-02 | Py-V L1 캐시 구현
- **요약**: `Py-V` RISC-V 코어에 L1 명령어/데이터 캐시를 추가하여 CPU 모델의 현실성을 높이고, `tight-coupled` 모드의 제어 오버헤드를 정확하게 측정합니다.
- **상태**: 관련 테스트 모두 통과 확인. (완료)

### REF-01 | 리포팅/시각화 로직 리팩토링
- **요약**: `reporting.py`와 `viz.py`에 중복 구현된 간트 차트 생성 로직을 `viz.py`의 함수로 통합하여 중복 제거.
- **상태**: `reporting.py`가 `viz.py` 함수를 호출하도록 리팩토링 완료 확인. (완료)

### M-01 | 메모리/버스 모델 고도화 v1
- **요약**: `IOBufferTracker` FIFO 동작, 시스템 버스, SPM/DMA 파라미터, DRAM 정책 등 메모리 및 버스 모델의 주요 기능 구현 및 검증 완료.

### ARC-01 | L2 캐시 모델 구현
- **요약**: NPU 클러스터에 하드웨어 관리형 L2 캐시 모델을 구현하고 시스템에 통합 완료.

### C-02 | VC 코스트 모델 v1
- **요약**: RVV 유사 제약(벡터 길이/issue rate) 반영한 element-wise/Reduce 코스트 모델 구현 완료.

### REF-02 | 스케줄러 가독성 개선
- **요약**: `scheduler.py`의 복잡한 함수 내부 로직을 Opcode별 헬퍼 함수 등으로 분리하여 가독성 및 유지보수성 향상.

### REF-03 | Opcode 상수화
- **요약**: 코드 전반에 하드코딩된 Opcode 문자열을 `Enum` 클래스로 정의하여 일관성 확보.

### TST-01 | 테스트 커버리지 확대
- **요약**: `mapper.py`, `reporting.py` 등 다양한 모듈에 대한 테스트를 추가하여 커버리지 10% 이상 향상.

### M-02 | DRAM 채널/뱅크 매핑 정책
- **요약**: DRAM 주소 매핑 및 뱅크 경합 모델링 기능 구현 완료.

### C-01 | TC 코스트 모델 v1
- **요약**: 시스톨릭 어레이의 fill/drain 오버헤드를 반영한 TC 성능 모델 v1 구현 완료.

### S-02 | 스케줄러 Stall 계산 로직 수정
- **요약**: 자원 경합 시 Stall 계산 로직을 수정하고, 리소스 탐색(probe)과 확정(commit) 로직을 분리하여 정확성 개선.

### 기타 완료 항목
- `MEM-02` (Input/Output 버퍼 모델), `MEM-01` (L0 SPM 모델), `INT-01` (Py-V MMIO 연동 훅), `SCH-02` (Double Buffering), `T-01` (Tight 모드 제어 경로), `C-03` (TC 코스트 모델 단위테스트), `CFG-01` (YAML 설정 외부화), `R-01` (리포트 확장), `BAS-01` (프로젝트 구조 인덱싱)

---

## Epics

- **EPIC-COST**: TC/VC/메모리/버스 코스트 모델 고도화（C-01, C-02, M-01, M-02, C-03, S-01）
- **EPIC-COMP**: 컴파일러 최적화 패스（P-01, P-02, P-03, Q-01）
- **EPIC-CTRL**: Tight 모드 제어 경로 및 마이크로코드（T-01）
- **EPIC-REP**: 리포트/시각화/벤치 자동화（R-02, EX-01, DOC-01）
- **EPIC-OPS**: 설정 외부화/테스트/CI（CI-01, S-02）
- **EPIC-TINYGRAD**: `tinygrad` 프론트엔드 지원 (P-03)
