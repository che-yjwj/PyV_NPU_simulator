v250813b
# PyV-NPU Simulator 개선 과제 칸반보드(chatgpt)

## 컬럼: Backlog → Ready → In-Progress → Review → Done

---

## Backlog

### C-01 | TE 코스트 모델 v1
- **요약**: systolic fill/drain, K-blocking, tile reuse 반영한 TE latency/throughput 모델 1차 구현
- **수용기준**: (1) matmul(M,N,K)와 어레이 크기(R×C) 입력 시 사이클 계산 일치(단위테스트 5개), (2) fill/drain 오버헤드 별도 리포팅
- **우선순위**: P0 / **사이즈**: L / **의존성**: — / **태그**: TE, 성능모델

### M-01 | 메모리/버스 모델 고도화 v1
- **요약**: SPM bank 포트 수, DMA burst, DRAM 채널/페이지 정책(오픈/클로즈드) 파라미터화
- **수용기준**: bank 충돌 케이스 재현 테스트 3종, burst size 변화에 따른 P95 변동 리포트
- **우선순위**: P0 / **사이즈**: L / **의존성**: — / **태그**: 메모리, DMA, 버스

### P-01 | 컴파일러 타일링 패스 (auto-tile)
- **요약**: shape/메모리 제약 기반 자동 타일 크기 산출 + mapper에 주입
- **수용기준**: 3개 벤치(TinyLLaMA matmul/Conv/GELU)에서 타일링 적용 후 실행 성공 및 총 사이클 감소
- **우선순위**: P0 / **사이즈**: L / **의존성**: C-01, M-01 / **태그**: 컴파일러, 타일링

### T-01 | Tight 모드 제어 경로 구체화
- **요약**: doorbell/CSR/큐 지연, 마이크로코드 발사율 모델
- **수용기준**: tight vs loose 동일 프로그램에서 제어 오버헤드 차이 리포트(P50/P95)
- **우선순위**: P0 / **사이즈**: M / **의존성**: — / **태그**: tight, 제어경로

### C-02 | VE 코스트 모델 v1
- **요약**: RVV 유사 제약(벡터 길이/issue rate) 반영한 element-wise/Reduce 코스트 모델
- **수용기준**: op별 사이클 추정 ≥ 단위테스트 5개, issue rate/메모리 대역폭 바인딩 케이스 재현
- **우선순위**: P1 / **사이즈**: M / **의존성**: — / **태그**: VE, 성능모델

### S-01 | 스케줄러 L2 이벤트 모델 확장
- **요약**: 현재 L2에 NoC 홉 지연, 큐 대기 지연, backpressure 이벤트 추가
- **수용기준**: 이벤트 로그에 홉/큐 지연 개별 카운터 제공, Gantt에 레이어 표시
- **우선순위**: P1 / **사이즈**: L / **의존성**: M-01 / **태그**: 스케줄러, NoC

### P-02 | 연산 Fusion 패스 (elementwise chain)
- **요약**: MatMul → BiasAdd → GELU 등 연속 elementwise 체인을 VE 패킷으로 병합
- **수용기준**: fusion 전/후 NPUOp 수 감소, 사이클/메모리 트래픽 절감 리포트
- **우선순위**: P1 / **사이즈**: M / **의존성**: P-01 / **태그**: 컴파일러, 최적화

### Q-01 | INT8/QAT 파이프라인 도입 (스텁)
- **요약**: 정수 스케일·제로포인트 메타를 IR에 부착하고 런타임 코스트 보정 훅 추가
- **수용기준**: INT8 경로에서 기능 테스트 통과, 보고서에 정밀도/성능 모드 플래그 표기
- **우선순위**: P2 / **사이즈**: M / **의존성**: P-01 / **태그**: 양자화

### PPA-01 | 에너지 훅 v0
- **요약**: op별 nJ/op 추정 테이블 주입 포인트와 합산 로직
- **수용기준**: 리포트에 총 에너지/ops 별 기여도 표시(근사치)
- **우선순위**: P2 / **사이즈**: M / **의존성**: C-01, M-01 / **태그**: PPA

### DOC-01 | 개발자 가이드 v1
- **요약**: “ONNX→IR→Program→Schedule→Report” 풀 파이프라인 가이드 & 확장 포인트
- **수용기준**: docs/에 튜토리얼 1편 + 아키텍처 다이어그램 1개(SVG)
- **우선순위**: P1 / **사이즈**: S / **의존성**: R-01 / **태그**: 문서

### EX-01 | 벤치 스크립트
- **요약**: TinyLLaMA, MLP, ConvNet 3세트 자동 실행/리포트 수집 스크립트
- **수용기준**: 결과 디렉토리에 리포트 HTML/JSON, 비교 표 자동 생성
- **우선순위**: P1 / **사이즈**: S / **의존성**: R-01, CFG-01 / **태그**: 예제, 자동화

---

## Ready

### C-03 | TE 코스트 모델 단위테스트
- **요약**: C-01을 위한 파라미터 스윕용 테스터(타일/어레이/주기)
- **수용기준**: 최소 20 케이스 자동 검증, 경계값 테스트 포함
- **우선순위**: P0 / **사이즈**: S / **의존성**: C-01 / **태그**: 테스트, TE

### M-02 | DRAM 채널/뱅크 매핑 정책
- **요약**: 어드레스→(채널,뱅크,행,열) 매핑 함수 & 정책 선택(Interleave, RR)
- **수용기준**: 정책별 충돌율 비교 리포트(샘플 3종)
- **우선순위**: P1 / **사이즈**: M / **의존성**: M-01 / **태그**: 메모리

### P-03 | IR 메타 확장(Quant/Layout/Stride)
- **요약**: IR 텐서 메타데이터에 quant/stride/layout 플래그 필드 추가
- **수용기준**: onnx_importer→IR→mapper→runtime 경로에서 유지 검증
- **우선순위**: P2 / **사이즈**: S / **의존성**: Q-01 / **태그**: IR

### R-02 | 간트차트 상호작용 메타
- **요약**: 리포트 HTML에 op hover 시 args/자원/대역폭 등 메타 표시
- **수용기준**: 3개 벤치에서 동작, 파일 하나로 self-contained
- **우선순위**: P2 / **사이즈**: S / **의존성**: R-01 / **태그**: 리포트, UI

---

## In-Progress

### CI-01 | 테스트 스위트 확장
- **진행**: `config`, `reporting` 모듈에 대한 단위 테스트 추가 완료. 스케줄러의 stall 계산 로직이 안정화되었습니다.
- **차주 목표**: 커버리지 70% 달성, 스케줄러 테스트 케이스 보강.

---

## Review

(None)

---

## Done

### S-02 | 스케줄러 Stall 계산 로직 수정
- **내용**: 자원 경합 시 Stall 계산이 부정확하던 버그를 수정하고, 다중 bank 동시 접근 테스트 케이스를 추가하여 안정성을 확보함.
- **출력물**: `pyv_npu/runtime/scheduler.py`, `pyv_npu/runtime/resources.py`, `tests/test_scheduler.py`

### CFG-01 | YAML 하드웨어 설정 외부화
- **내용**: `--config` 인자로 YAML 설정 파일을 로드하고, CLI 인자로 덮어쓰는 기능 구현. 관련 단위 테스트 통과.
- **출력물**: `pyv_npu/config.py`, `tests/test_config.py`

### R-01 | 리포트 확장 (자원 바인딩 브레이크다운)
- **내용**: 스케줄러에 stall 원인(DEP, RESOURCE_*) 추적 기능 추가. 리포트(JSON, HTML)에 stall 정보를 포함하고 간트차트에 시각화. 관련 단위 테스트 통과.
- **출력물**: `pyv_npu/runtime/scheduler.py`, `pyv_npu/utils/reporting.py`, `tests/test_reporting.py`

### BAS-01 | 프로젝트 구조 인덱싱 & 코드 맵
- **내용**: 서브패키지/콜체인 문서화 및 핵심 모듈 해설
- **출력물**: docs/architecture_overview.md, 분석 스니펫

---

## Epics

- **EPIC-COST**: TE/VE/메모리/버스 코스트 모델 고도화（C-01, C-02, M-01, M-02, C-03, S-01）
- **EPIC-COMP**: 컴파일러 최적화 패스（P-01, P-02, P-03, Q-01）
- **EPIC-CTRL**: Tight 모드 제어 경로 및 마이크로코드（T-01）
- **EPIC-REP**: 리포트/시각화/벤치 자동화（R-02, EX-01, DOC-01）
- **EPIC-OPS**: 설정 외부화/테스트/CI（CI-01, S-02）